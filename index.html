<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bastos Run Coach - Sistema para Treinadores</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="logo">
                <i class="fas fa-user-tie"></i>
                <span>Bastos Run Coach</span>
                <span class="badge-trainer">TREINADOR</span>
            </div>
            <div class="nav-buttons">
                <button class="nav-btn active" data-page="dashboard">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                </button>
                <button class="nav-btn" data-page="athletes">
                    <i class="fas fa-users"></i> Atletas (<span id="athleteCount">0</span>)
                </button>
                <button class="nav-btn" data-page="periodization">
                    <i class="fas fa-calendar-alt"></i> Periodiza√ß√£o
                </button>
                <button class="nav-btn" data-page="weeks">
                    <i class="fas fa-tasks"></i> Semanas
                </button>
                <button class="nav-btn" data-page="feedback">
                    <i class="fas fa-comments"></i> Feedbacks (<span id="feedbackCount">0</span>)
                </button>
            </div>
        </nav>
    </header>

    <div class="container">
        <!-- DASHBOARD -->
        <div id="dashboardPage" class="page active">
            <div class="card">
                <div class="card-header">
                    <div>
                        <h2 class="card-title">
                            <i class="fas fa-tachometer-alt"></i>
                            Dashboard do Treinador
                        </h2>
                        <p class="card-subtitle">Vis√£o geral dos seus atletas e planejamentos</p>
                    </div>
                    <button class="btn-primary" onclick="showPage('athletes')">
                        <i class="fas fa-user-plus"></i>
                        Adicionar Atleta
                    </button>
                </div>

                <!-- Estat√≠sticas R√°pidas -->
                <div class="stats-grid">
                    <div class="stat-card stat-primary">
                        <h3><i class="fas fa-users"></i> Total de Atletas</h3>
                        <div class="stat-number" id="totalAthletes">0</div>
                        <p>Cadastrados no sistema</p>
                    </div>
                    
                    <div class="stat-card stat-success">
                        <h3><i class="fas fa-calendar-check"></i> Periodiza√ß√µes</h3>
                        <div class="stat-number" id="totalPeriodizations">0</div>
                        <p>Planejamentos criados</p>
                    </div>
                    
                    <div class="stat-card stat-warning">
                        <h3><i class="fas fa-clock"></i> Semanas Ativas</h3>
                        <div class="stat-number" id="activeWeeks">0</div>
                        <p>Liberadas para execu√ß√£o</p>
                    </div>
                    
                    <div class="stat-card stat-danger">
                        <h3><i class="fas fa-comment-dots"></i> Feedbacks</h3>
                        <div class="stat-number" id="pendingFeedbacks">0</div>
                        <p>Aguardando an√°lise</p>
                    </div>
                </div>

                <!-- A√ß√µes R√°pidas -->
                <div class="quick-actions">
                    <h3><i class="fas fa-bolt"></i> A√ß√µes R√°pidas</h3>
                    <div class="actions-grid">
                        <button class="action-btn" onclick="showPage('athletes')">
                            <i class="fas fa-user-plus"></i>
                            <div>
                                <strong>Cadastrar Atleta</strong>
                                <span>Adicionar novo atleta ao sistema</span>
                            </div>
                        </button>
                        <button class="action-btn" onclick="showPage('periodization')">
                            <i class="fas fa-brain"></i>
                            <div>
                                <strong>Criar Periodiza√ß√£o</strong>
                                <span>Gerar plano com IA</span>
                            </div>
                        </button>
                        <button class="action-btn" onclick="showPage('weeks')">
                            <i class="fas fa-play"></i>
                            <div>
                                <strong>Liberar Semanas</strong>
                                <span>Disponibilizar treinos</span>
                            </div>
                        </button>
                        <button class="action-btn" onclick="showPage('feedback')">
                            <i class="fas fa-chart-line"></i>
                            <div>
                                <strong>Analisar Feedbacks</strong>
                                <span>Revisar retornos dos atletas</span>
                            </div>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ATLETAS -->
        <div id="athletesPage" class="page">
            <div class="card">
                <div class="card-header">
                    <div>
                        <h2 class="card-title">
                            <i class="fas fa-users"></i>
                            Gest√£o de Atletas
                        </h2>
                        <p class="card-subtitle">Cadastre e gerencie seus atletas</p>
                    </div>
                    <button class="btn-primary" onclick="openAthleteModal()">
                        <i class="fas fa-user-plus"></i>
                        Novo Atleta
                    </button>
                </div>

                <div id="athletesList" class="athletes-grid">
                    <!-- Lista de atletas ser√° inserida aqui -->
                </div>
            </div>
        </div>

        <!-- PERIODIZA√á√ÉO -->
        <div id="periodizationPage" class="page">
            <div class="card">
                <div class="card-header">
                    <div>
                        <h2 class="card-title">
                            <i class="fas fa-brain"></i>
                            Criar Periodiza√ß√£o com IA
                        </h2>
                        <p class="card-subtitle">GPT Bastos Run Coach criar√° a periodiza√ß√£o completa</p>
                    </div>
                </div>

                <!-- Progresso -->
                <div class="progress-steps">
                    <div class="step active" id="step1">1</div>
                    <div class="step" id="step2">2</div>
                    <div class="step" id="step3">3</div>
                    <div class="step" id="step4">4</div>
                </div>

                <!-- Status da IA -->
                <div id="aiStatus" class="ai-status" style="display: none;">
                    <div class="ai-thinking">
                        <div class="ai-spinner"></div>
                        <h3>üß† IA Criando Periodiza√ß√£o...</h3>
                        <p id="aiStatusText">Analisando dados do atleta...</p>
                    </div>
                </div>

                <!-- Formul√°rio de Periodiza√ß√£o -->
                <form id="periodizationForm">
                    <div class="form-section">
                        <h3><i class="fas fa-user-circle"></i> Dados do Atleta</h3>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="selectedAthlete">üèÉ‚Äç‚ôÇÔ∏è Selecionar Atleta:</label>
                                <select id="selectedAthlete" required>
                                    <option value="">Escolha um atleta</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="currentLevel">üìä N√≠vel Atual:</label>
                                <select id="currentLevel" required>
                                    <option value="">Avaliar n√≠vel</option>
                                    <option value="iniciante">üå± Iniciante (0-1 ano)</option>
                                    <option value="intermediario">üìà Intermedi√°rio (1-3 anos)</option>
                                    <option value="avancado">üöÄ Avan√ßado (3+ anos)</option>
                                    <option value="elite">üëë Elite/Competitivo</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3><i class="fas fa-target"></i> Objetivo e Planejamento</h3>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="mainGoal">üéØ Objetivo Principal:</label>
                                <select id="mainGoal" required>
                                    <option value="">Selecione o objetivo</option>
                                    <option value="5k">üèÉ‚Äç‚ôÇÔ∏è Prepara√ß√£o 5K</option>
                                    <option value="10k">üèÉ‚Äç‚ôÇÔ∏è Prepara√ß√£o 10K</option>
                                    <option value="21k">üèÉ‚Äç‚ôÇÔ∏è Prepara√ß√£o 21K</option>
                                    <option value="42k">üèÉ‚Äç‚ôÇÔ∏è Prepara√ß√£o Maratona</option>
                                    <option value="ultra">üèîÔ∏è Ultra Trail</option>
                                    <option value="base-aerobica">üí™ Desenvolver Base Aer√≥bica</option>
                                    <option value="performance">‚ö° Melhorar Performance</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="timeFrame">‚è∞ Per√≠odo de Treinamento:</label>
                                <select id="timeFrame" required>
                                    <option value="">Dura√ß√£o do plano</option>
                                    <option value="8">8 semanas (2 meses)</option>
                                    <option value="12">12 semanas (3 meses)</option>
                                    <option value="16">16 semanas (4 meses)</option>
                                    <option value="20">20 semanas (5 meses)</option>
                                    <option value="24">24 semanas (6 meses)</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="targetTime">üèÜ Tempo Objetivo (opcional):</label>
                                <input type="text" id="targetTime" placeholder="Ex: Sub 3h30min na maratona">
                            </div>
                            <div class="form-group">
                                <label for="competitionDate">üìÖ Data da Prova (opcional):</label>
                                <input type="date" id="competitionDate">
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3><i class="fas fa-cogs"></i> Configura√ß√µes do Treino</h3>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="weeklyFrequency">üìÜ Frequ√™ncia Semanal:</label>
                                <select id="weeklyFrequency" required>
                                    <option value="">Treinos por semana</option>
                                    <option value="3">3x por semana</option>
                                    <option value="4">4x por semana</option>
                                    <option value="5">5x por semana</option>
                                    <option value="6">6x por semana</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="preferredTerrain">üåç Terreno Preferido:</label>
                                <select id="preferredTerrain">
                                    <option value="misto">üåç Misto (Asfalto + Trail)</option>
                                    <option value="asfalto">üèôÔ∏è Principalmente Asfalto</option>
                                    <option value="trail">üèîÔ∏è Principalmente Trail</option>
                                    <option value="pista">üèÉ‚Äç‚ôÇÔ∏è Pista de Atletismo</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="limitationsNotes">üìù Limita√ß√µes e Observa√ß√µes:</label>
                            <textarea id="limitationsNotes" rows="3" placeholder="Ex: Les√£o pr√©via, disponibilidade de hor√°rios, equipamentos, prefer√™ncias espec√≠ficas..."></textarea>
                        </div>
                    </div>

                    <div class="form-submit">
                        <button type="submit" class="btn-primary btn-large">
                            <i class="fas fa-magic"></i>
                            Gerar Periodiza√ß√£o Completa com IA
                        </button>
                    </div>
                </form>

                <!-- Resultado da Periodiza√ß√£o -->
                <div id="periodizationResult" style="display: none;">
                    <!-- Resultado ser√° inserido aqui -->
                </div>
            </div>
        </div>

        <!-- SEMANAS -->
        <div id="weeksPage" class="page">
            <div class="card">
                <div class="card-header">
                    <div>
                        <h2 class="card-title">
                            <i class="fas fa-tasks"></i>
                            Gerenciar Semanas de Treino
                        </h2>
                        <p class="card-subtitle">Libere semanas para seus atletas executarem</p>
                    </div>
                </div>

                <div id="weeksManagement">
                    <div class="empty-state">
                        <i class="fas fa-info-circle"></i>
                        <h3>Nenhuma periodiza√ß√£o encontrada</h3>
                        <p>Crie uma periodiza√ß√£o primeiro para gerenciar as semanas de treino.</p>
                        <button class="btn-primary" onclick="showPage('periodization')">
                            <i class="fas fa-plus"></i>
                            Criar Periodiza√ß√£o
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- FEEDBACKS -->
        <div id="feedbackPage" class="page">
            <div class="card">
                <div class="card-header">
                    <div>
                        <h2 class="card-title">
                            <i class="fas fa-comments"></i>
                            Feedbacks dos Atletas
                        </h2>
                        <p class="card-subtitle">Analise o retorno dos treinos executados</p>
                    </div>
                </div>

                <div id="feedbacksList">
                    <div class="empty-state">
                        <i class="fas fa-comment-dots"></i>
                        <h3>Nenhum feedback recebido</h3>
                        <p>Os feedbacks dos atletas aparecer√£o aqui ap√≥s execu√ß√£o dos treinos.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para Cadastro de Atleta -->
    <div id="athleteModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-user-plus"></i> Cadastrar Novo Atleta</h3>
                <button class="modal-close" onclick="closeAthleteModal()">&times;</button>
            </div>
            
            <form id="athleteForm">
                <div class="form-section">
                    <h4><i class="fas fa-user"></i> Dados Pessoais</h4>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="athleteName">üë§ Nome Completo:</label>
                            <input type="text" id="athleteName" required placeholder="Ex: Jo√£o Silva">
                        </div>
                        <div class="form-group">
                            <label for="athleteEmail">üìß E-mail:</label>
                            <input type="email" id="athleteEmail" required placeholder="joao@email.com">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="athleteAge">üéÇ Idade:</label>
                            <input type="number" id="athleteAge" required min="16" max="80" placeholder="30">
                        </div>
                        <div class="form-group">
                            <label for="athletePhone">üì± Telefone:</label>
                            <input type="tel" id="athletePhone" placeholder="(11) 99999-9999">
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h4><i class="fas fa-heartbeat"></i> Dados F√≠sicos e Hist√≥rico</h4>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="athleteWeight">‚öñÔ∏è Peso (kg):</label>
                            <input type="number" id="athleteWeight" min="40" max="150" step="0.1" placeholder="70">
                        </div>
                        <div class="form-group">
                            <label for="athleteHeight">üìè Altura (cm):</label>
                            <input type="number" id="athleteHeight" min="140" max="220" placeholder="175">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="runningExperience">üèÉ‚Äç‚ôÇÔ∏è Experi√™ncia em Corrida:</label>
                            <select id="runningExperience" required>
                                <option value="">Selecione</option>
                                <option value="sedentario">üö´ Sedent√°rio</option>
                                <option value="iniciante">üå± Iniciante (0-6 meses)</option>
                                <option value="recreativo">üö∂‚Äç‚ôÇÔ∏è Recreativo (6m-2 anos)</option>
                                <option value="intermediario">üìà Intermedi√°rio (2-5 anos)</option>
                                <option value="avancado">üöÄ Avan√ßado (5+ anos)</option>
                                <option value="competitivo">üèÜ Competitivo</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="weeklyFrequencyAthlete">üìÖ Frequ√™ncia Atual:</label>
                            <select id="weeklyFrequencyAthlete">
                                <option value="">Treinos por semana</option>
                                <option value="0">Nenhum</option>
                                <option value="1">1x por semana</option>
                                <option value="2">2x por semana</option>
                                <option value="3">3x por semana</option>
                                <option value="4">4x por semana</option>
                                <option value="5">5x por semana</option>
                                <option value="6">6x por semana</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h4><i class="fas fa-target"></i> Objetivos e Records</h4>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="primaryGoal">üéØ Objetivo Principal:</label>
                            <select id="primaryGoal">
                                <option value="">Selecione o objetivo</option>
                                <option value="saude">üíö Sa√∫de e Bem-estar</option>
                                <option value="emagrecimento">‚öñÔ∏è Emagrecimento</option>
                                <option value="5k">üèÉ‚Äç‚ôÇÔ∏è Correr 5K</option>
                                <option value="10k">üèÉ‚Äç‚ôÇÔ∏è Correr 10K</option>
                                <option value="21k">üèÉ‚Äç‚ôÇÔ∏è Meia Maratona</option>
                                <option value="42k">üèÉ‚Äç‚ôÇÔ∏è Maratona</option>
                                <option value="ultra">üèîÔ∏è Ultra Maratona</option>
                                <option value="performance">‚ö° Melhorar Performance</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="timeAvailable">‚è∞ Tempo Dispon√≠vel:</label>
                            <select id="timeAvailable">
                                <option value="">Tempo por treino</option>
                                <option value="30">30 minutos</option>
                                <option value="45">45 minutos</option>
                                <option value="60">1 hora</option>
                                <option value="90">1h30min</option>
                                <option value="120">2 horas</option>
                                <option value="180">3+ horas</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="best5k">üèÉ‚Äç‚ôÇÔ∏è Melhor 5K:</label>
                            <input type="text" id="best5k" placeholder="Ex: 25:30 ou 'Nunca corri'">
                        </div>
                        <div class="form-group">
                            <label for="best10k">üèÉ‚Äç‚ôÇÔ∏è Melhor 10K:</label>
                            <input type="text" id="best10k" placeholder="Ex: 52:15 ou 'Nunca corri'">
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h4><i class="fas fa-exclamation-triangle"></i> Limita√ß√µes e Observa√ß√µes</h4>
                    
                    <div class="form-group">
                        <label for="healthLimitations">üè• Limita√ß√µes de Sa√∫de:</label>
                        <textarea id="healthLimitations" rows="2" placeholder="Ex: Les√£o no joelho, problemas card√≠acos, medicamentos..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="additionalNotes">üìù Observa√ß√µes Adicionais:</label>
                        <textarea id="additionalNotes" rows="2" placeholder="Hor√°rios preferenciais, equipamentos dispon√≠veis, motiva√ß√µes especiais..."></textarea>
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn-secondary" onclick="closeAthleteModal()">
                        <i class="fas fa-times"></i>
                        Cancelar
                    </button>
                    <button type="submit" class="btn-primary">
                        <i class="fas fa-save"></i>
                        Cadastrar Atleta
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal para Visualizar Semana -->
    <div id="weekModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3 id="weekModalTitle"><i class="fas fa-calendar-week"></i> Semana de Treino</h3>
                <button class="modal-close" onclick="closeWeekModal()">&times;</button>
            </div>
            
            <div id="weekModalContent">
                <!-- Conte√∫do da semana ser√° inserido aqui -->
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/storage.js"></script>
    <script src="js/gpt-integration.js"></script>
    <script src="js/app.js"></script>
</body>
</html>